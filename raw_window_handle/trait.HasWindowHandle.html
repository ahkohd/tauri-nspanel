<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A handle to a window."><title>HasWindowHandle in raw_window_handle - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="raw_window_handle" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0 (cc66ad468 2023-10-03)" data-channel="1.73.0" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-1596385f77d47ef2.css" data-theme-dark-css="dark-0a43001d3fc2282c.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-1596385f77d47ef2.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-0a43001d3fc2282c.css"><link rel="stylesheet" href="../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../raw_window_handle/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../raw_window_handle/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">HasWindowHandle</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.window_handle">window_handle</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-HasWindowHandle-for-%26H">&amp;H</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In raw_window_handle</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">raw_window_handle</a>::<wbr><a class="trait" href="#">HasWindowHandle</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/raw_window_handle/borrowed.rs.html#359-362">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait HasWindowHandle {
    // Required method
    fn <a href="#tymethod.window_handle" class="fn">window_handle</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.WindowHandle.html" title="struct raw_window_handle::WindowHandle">WindowHandle</a>&lt;'_&gt;, <a class="enum" href="enum.HandleError.html" title="enum raw_window_handle::HandleError">HandleError</a>&gt;;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A handle to a window.</p>
<p>Objects that implement this trait should be able to return a <a href="struct.WindowHandle.html" title="struct raw_window_handle::WindowHandle"><code>WindowHandle</code></a> for the window
that they are associated with. This handle should last for the lifetime of the object, and should
return an error if the application is inactive.</p>
<p>Implementors of this trait will be windowing systems, like <a href="https://crates.io/crates/winit"><code>winit</code></a> and <a href="https://crates.io/crates/sdl2"><code>sdl2</code></a>. These windowing
systems should implement this trait on types that already implement <a href="trait.HasRawWindowHandle.html" title="trait raw_window_handle::HasRawWindowHandle"><code>HasRawWindowHandle</code></a>. First,
it should be made sure that the display type contains a unique <a href="struct.Active.html" title="struct raw_window_handle::Active"><code>Active</code></a> ref-counted handle.
To create a <a href="struct.WindowHandle.html" title="struct raw_window_handle::WindowHandle"><code>WindowHandle</code></a>, the <a href="struct.Active.html" title="struct raw_window_handle::Active"><code>Active</code></a> should be used to create an <a href="struct.ActiveHandle.html" title="struct raw_window_handle::ActiveHandle"><code>ActiveHandle</code></a> that is
then used to create a <a href="struct.WindowHandle.html" title="struct raw_window_handle::WindowHandle"><code>WindowHandle</code></a>. Finally, the raw window handle should be retrieved from
the type and used to create a <a href="struct.WindowHandle.html" title="struct raw_window_handle::WindowHandle"><code>WindowHandle</code></a>.</p>
<p>Users of this trait will include graphics libraries, like <a href="https://crates.io/crates/wgpu"><code>wgpu</code></a> and <a href="https://crates.io/crates/glutin"><code>glutin</code></a>. These APIs
should be generic over a type that implements <code>HasWindowHandle</code>, and should use the
<a href="struct.WindowHandle.html" title="struct raw_window_handle::WindowHandle"><code>WindowHandle</code></a> type to access the window handle. The window handle should be acquired and held
while the window is being used, in order to ensure that the window is not deleted while it is in
use.</p>
<h2 id="safety"><a href="#safety">Safety</a></h2>
<p>All pointers within the resulting <a href="struct.WindowHandle.html" title="struct raw_window_handle::WindowHandle"><code>WindowHandle</code></a> must be valid and not dangling for the lifetime of
the handle.</p>
<p>Note that this guarantee only applies to <em>pointers</em>, and not any window ID types in the handle.
This includes Window IDs (XIDs) from X11 and the window ID for web platforms. There is no way for
Rust to enforce any kind of invariant on these types, since:</p>
<ul>
<li>For all three listed platforms, it is possible for safe code in the same process to delete
the window.</li>
<li>For X11, it is possible for code in a different process to delete the window. In fact, it is
possible for code on a different <em>machine</em> to delete the window.</li>
</ul>
<p>It is <em>also</em> possible for the window to be replaced with another, valid-but-different window. User
code should be aware of this possibility, and should be ready to soundly handle the possible error
conditions that can arise from this.</p>
<p>In addition, the window handle must not be invalidated for the duration of the <a href="struct.ActiveHandle.html" title="struct raw_window_handle::ActiveHandle"><code>ActiveHandle</code></a> token.</p>
<p>Note that these requirements are not enforced on <code>HasWindowHandle</code>, rather, they are enforced on the
constructors of <a href="struct.WindowHandle.html" title="struct raw_window_handle::WindowHandle"><code>WindowHandle</code></a>. This is because the <code>HasWindowHandle</code> trait is safe to implement.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.window_handle" class="method"><a class="src rightside" href="../src/raw_window_handle/borrowed.rs.html#361">source</a><h4 class="code-header">fn <a href="#tymethod.window_handle" class="fn">window_handle</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.WindowHandle.html" title="struct raw_window_handle::WindowHandle">WindowHandle</a>&lt;'_&gt;, <a class="enum" href="enum.HandleError.html" title="enum raw_window_handle::HandleError">HandleError</a>&gt;</h4></section></summary><div class="docblock"><p>Get a handle to the window.</p>
</div></details></div><h2 id="foreign-impls" class="small-section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor">§</a></h2><details class="toggle implementors-toggle"><summary><section id="impl-HasWindowHandle-for-%26H" class="impl"><a class="src rightside" href="../src/raw_window_handle/borrowed.rs.html#364-368">source</a><a href="#impl-HasWindowHandle-for-%26H" class="anchor">§</a><h3 class="code-header">impl&lt;H: <a class="trait" href="trait.HasWindowHandle.html" title="trait raw_window_handle::HasWindowHandle">HasWindowHandle</a> + ?<a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="trait.HasWindowHandle.html" title="trait raw_window_handle::HasWindowHandle">HasWindowHandle</a> for <a class="primitive" href="https://doc.rust-lang.org/1.73.0/core/primitive.reference.html">&amp;H</a></h3></section></summary><div class="impl-items"><section id="method.window_handle" class="method trait-impl"><a class="src rightside" href="../src/raw_window_handle/borrowed.rs.html#365-367">source</a><a href="#method.window_handle" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.window_handle" class="fn">window_handle</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.WindowHandle.html" title="struct raw_window_handle::WindowHandle">WindowHandle</a>&lt;'_&gt;, <a class="enum" href="enum.HandleError.html" title="enum raw_window_handle::HandleError">HandleError</a>&gt;</h4></section></div></details><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-HasWindowHandle-for-WindowHandle%3C'_%3E" class="impl"><a class="src rightside" href="../src/raw_window_handle/borrowed.rs.html#450-454">source</a><a href="#impl-HasWindowHandle-for-WindowHandle%3C'_%3E" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.HasWindowHandle.html" title="trait raw_window_handle::HasWindowHandle">HasWindowHandle</a> for <a class="struct" href="struct.WindowHandle.html" title="struct raw_window_handle::WindowHandle">WindowHandle</a>&lt;'_&gt;</h3></section></div><script src="../implementors/raw_window_handle/borrowed/trait.HasWindowHandle.js" async></script></section></div></main></body></html>