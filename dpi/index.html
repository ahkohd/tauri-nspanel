<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="DPI"><title>dpi - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="dpi" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../dpi/index.html">dpi</a><span class="version">0.1.1</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">dpi</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/dpi/lib.rs.html#1-1244">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="dpi"><a class="doc-anchor" href="#dpi">§</a>DPI</h2><h3 id="why-should-i-care-about-ui-scaling"><a class="doc-anchor" href="#why-should-i-care-about-ui-scaling">§</a>Why should I care about UI scaling?</h3>
<p>Modern computer screens don’t have a consistent relationship between resolution and size.
1920x1080 is a common resolution for both desktop and mobile screens, despite mobile screens
typically being less than a quarter the size of their desktop counterparts. Moreover, neither
desktop nor mobile screens have consistent resolutions within their own size classes - common
mobile screens range from below 720p to above 1440p, and desktop screens range from 720p to 5K
and beyond.</p>
<p>Given that, it’s a mistake to assume that 2D content will only be displayed on screens with
a consistent pixel density. If you were to render a 96-pixel-square image on a 1080p screen and
then render the same image on a similarly-sized 4K screen, the 4K rendition would only take up
about a quarter of the physical space as it did on the 1080p screen. That issue is especially
problematic with text rendering, where quarter-sized text becomes a significant legibility
problem.</p>
<p>Failure to account for the scale factor can create a significantly degraded user experience.
Most notably, it can make users feel like they have bad eyesight, which will potentially cause
them to think about growing elderly, resulting in them having an existential crisis. Once users
enter that state, they will no longer be focused on your application.</p>
<h3 id="how-should-i-handle-it"><a class="doc-anchor" href="#how-should-i-handle-it">§</a>How should I handle it?</h3>
<p>The solution to this problem is to account for the device’s <em>scale factor</em>. The scale factor is
the factor UI elements should be scaled by to be consistent with the rest of the user’s system -
for example, a button that’s usually 50 pixels across would be 100 pixels across on a device
with a scale factor of <code>2.0</code>, or 75 pixels across with a scale factor of <code>1.5</code>.</p>
<p>Many UI systems, such as CSS, expose DPI-dependent units like <a href="https://en.wikipedia.org/wiki/Point_(typography)">points</a> or <a href="https://en.wikipedia.org/wiki/Pica_(typography)">picas</a>. That’s
usually a mistake since there’s no consistent mapping between the scale factor and the screen’s
actual DPI. Unless printing to a physical medium, you should work in scaled pixels rather
than any DPI-dependent units.</p>
<h4 id="position-and-size-types"><a class="doc-anchor" href="#position-and-size-types">§</a>Position and Size types</h4>
<p>The <a href="struct.PhysicalPosition.html" title="struct dpi::PhysicalPosition"><code>PhysicalPosition</code></a> / <a href="struct.PhysicalSize.html" title="struct dpi::PhysicalSize"><code>PhysicalSize</code></a> / <a href="struct.PhysicalUnit.html" title="struct dpi::PhysicalUnit"><code>PhysicalUnit</code></a> types correspond with the actual pixels on the
device, and the <a href="struct.LogicalPosition.html" title="struct dpi::LogicalPosition"><code>LogicalPosition</code></a> / <a href="struct.LogicalSize.html" title="struct dpi::LogicalSize"><code>LogicalSize</code></a> / <a href="struct.LogicalUnit.html" title="struct dpi::LogicalUnit"><code>LogicalUnit</code></a> types correspond to the physical pixels
divided by the scale factor.</p>
<p>The position and size types are generic over their exact pixel type, <code>P</code>, to allow the
API to have integer precision where appropriate (e.g. most window manipulation functions) and
floating precision when necessary (e.g. logical sizes for fractional scale factors and touch
input). If <code>P</code> is a floating-point type, please do not cast the values with <code>as {int}</code>. Doing so
will truncate the fractional part of the float rather than properly round to the nearest
integer. Use the provided <code>cast</code> function or <a href="https://doc.rust-lang.org/1.82.0/core/convert/trait.From.html" title="trait core::convert::From"><code>From</code></a>/<a href="https://doc.rust-lang.org/1.82.0/core/convert/trait.Into.html" title="trait core::convert::Into"><code>Into</code></a> conversions, which handle the
rounding properly. Note that precision loss will still occur when rounding from a float to an
int, although rounding lessens the problem.</p>
<h3 id="cargo-features"><a class="doc-anchor" href="#cargo-features">§</a>Cargo Features</h3>
<p>This crate provides the following Cargo features:</p>
<ul>
<li><code>serde</code>: Enables serialization/deserialization of certain types with
<a href="https://crates.io/crates/serde">Serde</a>.</li>
<li><code>mint</code>: Enables mint (math interoperability standard types) conversions.</li>
</ul>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.LogicalPosition.html" title="struct dpi::LogicalPosition">Logical<wbr>Position</a></div><div class="desc docblock-short">A position represented in logical pixels.</div></li><li><div class="item-name"><a class="struct" href="struct.LogicalSize.html" title="struct dpi::LogicalSize">Logical<wbr>Size</a></div><div class="desc docblock-short">A size represented in logical pixels.</div></li><li><div class="item-name"><a class="struct" href="struct.LogicalUnit.html" title="struct dpi::LogicalUnit">Logical<wbr>Unit</a></div><div class="desc docblock-short">A logical pixel unit.</div></li><li><div class="item-name"><a class="struct" href="struct.PhysicalPosition.html" title="struct dpi::PhysicalPosition">Physical<wbr>Position</a></div><div class="desc docblock-short">A position represented in physical pixels.</div></li><li><div class="item-name"><a class="struct" href="struct.PhysicalSize.html" title="struct dpi::PhysicalSize">Physical<wbr>Size</a></div><div class="desc docblock-short">A size represented in physical pixels.</div></li><li><div class="item-name"><a class="struct" href="struct.PhysicalUnit.html" title="struct dpi::PhysicalUnit">Physical<wbr>Unit</a></div><div class="desc docblock-short">A physical pixel unit.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.PixelUnit.html" title="enum dpi::PixelUnit">Pixel<wbr>Unit</a></div><div class="desc docblock-short">A pixel unit that’s either physical or logical.</div></li><li><div class="item-name"><a class="enum" href="enum.Position.html" title="enum dpi::Position">Position</a></div><div class="desc docblock-short">A position that’s either physical or logical.</div></li><li><div class="item-name"><a class="enum" href="enum.Size.html" title="enum dpi::Size">Size</a></div><div class="desc docblock-short">A size that’s either physical or logical.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Pixel.html" title="trait dpi::Pixel">Pixel</a></div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.validate_scale_factor.html" title="fn dpi::validate_scale_factor">validate_<wbr>scale_<wbr>factor</a></div><div class="desc docblock-short">Checks that the scale factor is a normal positive <code>f64</code>.</div></li></ul></section></div></main></body></html>